<html>
  <head>
    <title>Request Meta Data</title>

    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.1.min.js"></script>

    <style type="text/css" media="all">

#to_be_cropped {
  width: 400px;
  height: 200px;
  font-size: 12px;
  font-weight: bold;
  font-family: "times new roman";
  background-color: #F3EEFC;
  color: #022909;
}

    </style>
  </head>

  <body>


    <h2>Content to be cropped</h2>

    <div id="to_be_cropped">

    </div>


    <h2>About Request Meta Data</h2>
    <p>When an email client requests images from Movable Ink, it will pass along information that may be useful in determining what to show.  These are things like user agent and IP address.  Movable Ink interprets these two points of data to determine device type and an estimated location of open.</p>
    <h2>Gotchas</h2>
    <p>Movable Ink will make a separate crop for every set of query parameters.  If you enable "pass location", you should expect slower image load times because each image request will be unique and we will not be able to retrieve information from a cache.</p>

    <script type="text/javascript">
      var urlParams = {};
      (function () {
         var match,
             search = /([^&=]+)=?([^&]*)/g,
             decode = function (s) { return decodeURIComponent(s); },
             query  = window.location.search.substring(1);

         while (match = search.exec(query))
           urlParams[decode(match[1])] = decode(match[2]);
      })();

      var message = '';
      for (param in urlParams) {
        message += param + ' = ' + urlParams[param] + '<br />';
      }
      $('#to_be_cropped').html(message);

    </script>
  </body>
</html>
